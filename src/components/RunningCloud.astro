---
/**
 * * Logo cloud section marquee
 *
 * These are taken from the src/icons folder. You may desire to modify any SVGs you use to have the fill set to "currentColor"
 * to use the current text color. That is how I have set up these icons for demo purposes
 *
 * There is a commented out script at the bottom. If you would like the marquee to pause on mouseover, uncomment it.
 */
import RunningImage from "@images/running.svg";
import { Image } from "astro:assets";

const racesLogos = import.meta.glob("/src/assets/races/*.{png,jpg,jpeg}", {
    eager: true,
});

// Adjust number of logos based on screen size
const runningLogoNumber = 30;
---

<section
    id="logocloud2"
    class="h-8 sm:h-5 dark:border-base-600/60 bg-black"
>
    <div class="relative mx-auto max-w-[1800px] overflow-hidden px-2 sm:px-2 h-full">
        <!-- left fade-out -->
        <div
            class="absolute -left-px top-0 z-10 h-full w-[10%] bg-gradient-to-r from-black from-20% to-transparent"
        >
        </div>
        <!-- right fade-out -->
        <div
            class="absolute -right-px top-0 z-10 h-full w-[10%] bg-gradient-to-r from-transparent to-black to-80%"
        >
        </div>

        <div
            class="logo-marquee relative flex gap-6 sm:gap-12 overflow-hidden h-full justify-center"
        >
            <!-- Each animate-marquee2 section needs to have the exact same icons. Just do one then copy / paste -->
            <div
                class="flex min-w-full shrink-0 animate-marquee2-mobile sm:animate-marquee2 items-center justify-around gap-6 sm:gap-12"
            >
                {
                    [...Array(runningLogoNumber)].map(() => (
                        <Image
                            src={RunningImage}
                            alt="Running logo"
                            loading="eager"
                            class="h-full w-auto fill-current text-primary max-h-6 sm:max-h-5"
                            style="filter: brightness(0) invert(1);"
                            aria-hidden="true"
                            width={200}
                            height={100}
                        />
                    ))
                }
            </div>

            <!-- Each animate-marquee2 section needs to have the exact same icons. Just do one then copy / paste -->
            <div
                aria-hidden="true"
                class="flex min-w-full shrink-0 animate-marquee2-mobile sm:animate-marquee2 items-center justify-around gap-6 sm:gap-12"
            >
                {
                    [...Array(runningLogoNumber)].map(() => (
                        <Image
                            src={RunningImage}
                            alt="Running logo"
                            loading="eager"
                            class="h-full w-auto fill-current text-primary max-h-6 sm:max-h-5"
                            style="filter: brightness(0) invert(1);"
                            aria-hidden="true"
                            width={200}
                            height={100}
                        />
                    ))
                }
            </div>
        </div>
    </div>
</section>

<style lang="scss">
    .logo {
        @apply h-10 w-auto;
    }
</style>
